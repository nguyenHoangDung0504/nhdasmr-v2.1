<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NHD ASMR - My Favourite ASMR Tracks</title>
  <script src="scripts/strings-processing-functions.js"></script>
  <script src="database/database.js"></script>
  <link rel="stylesheet" href="test-data/style.css">
</head>
<body>
    <button id="leakdata">copy function leak data</button>
    <script>
      let funct = '!function(){let e=[1,6265,8390,19178,20055,23580,31826,32791,33002,33106,35998,38274,38876,41099,45123,46213,48337,48474,48817,48878,50613,50816,51046,51289,51491,51602,51918,52130,52506,52993,53014,53134,53311,53520,53983,53993,54338,54342,54417,54749,54829,55385,56709,56735,56829,57544,57648,58273,59138,60497,60604,60827,61286,61735,61841,62234,62248,62673,62951,63119,63345,63721,64135,64676,65047,65789,65793,65932,66870,67073,67108,67197,67423,67990,68317,68344,68446,69272,69274,69670,70239,70249,70437,70545,70549,70559,70744,70855,71004,71191,71419,71765,71789,71846,72339,72361,72371,72373,72385,73273,73353,73684,74317,74581,74842,75252,75264,75342,75401,75549,75578,75602,75921,75923,76192,76230,76364,76368,76737,76778,76798,77015,77055,77079,77471,78234,78358,78560,78568,78704,78779,78915,78957,79035,79318,79406,79438,79781,79828,79846,79892,80129,80247,80550,80993,81031,81409,81427,81439,81777,81817,88888,95894,95930,95970,95986,96253,96557,96583,96589,96639,96647,96731,97022,97305,97357,97409,97433,98389,99172,99218,99248,99284,101296,102368,102406,102412,102424];(function(){let i=function(){let e=document.querySelectorAll("p"),i={japName:e[1].textContent,cvs:e[2].textContent.split(": ")[1],rjCode:e[3].textContent.split(": ")[1]};return console.table(i),i}();if(-1!=e.indexOf(Number(location.href.match(/\d+/)[0])))return void alert("Trùng code!");let t=`pushData(${location.href.match(/\d+/)[0]}, "${i.rjCode}", "${i.cvs.replaceAll(", ",",")}", "${i.japName}", "engName", "thumbnail", "${function(){let e=["3D","<i><b>[Haitatsuin Ni Saimin (Series)]</b></i>","<i><b>[Oma*ko Gakuen (Series)]</b></i>","<i><b>[Ripe Woman (Series)]</i></b>","<i><b>[全編ゆるオホ (Series)]</b></i>","AI一部利用","ASMR","Ahegao","Anal","Angel","Animal Ears","Animation","Armpit","Assjob","Big Breasts","Bitch","Blowjob","Breast Sex","Breasts","Bunny Girl","Buttocks","Cheating","Cheerleader","Childhood Friend","Chubby","Classmate","Cosplay","Deepthroat","Demon","Dirty Talk","Ear Licking","Elf","English","Facesitting","Fetish","Foot Job","Futanari","Gal","Girlfriend","Glasses","Group Sex","Gym Clothes","Hand Job","Harem","Housewife","Idol","Incest","Kissing","Kouhai","Kuudere","Licking","Loli","Lotion","Magical Girl","Maid","Milf","Monster Girl","Mother","Naughty","Nipple Licking","Nurse","Oneesan","Peeing","Perverted","Pregnancy","Queen/Princess","Rape","School","School Girl","School Swimwear","School Uniform","Sister","Sister-In-Law","Smell Fetish","Stockings","Succubus","Swimwear","Tailjob","Tanned Skin","Teacher","Tease","Tentacle","Thighjob","Trap","Tsundere","Twin Tail","Twins","Uniform","Vampire","Virgin Female","Vtuber","Yandere","Yuri"],i=document.querySelectorAll(".post-meta.post-tags a"),t=[];for(let n=0;n<i.length;n++)if(-1==i[n].textContent.indexOf("Student"))if(-1==i[n].textContent.indexOf("Imouto"))for(let o=0;o<e.length;o++)-1!=i[n].textContent.indexOf(e[o])&&-1==t.indexOf(e[o])&&t.push(e[o]);else t.push("Sister");else t.push("School Girl");return console.log(t.sort()),t}().join(",")}", "imgs", "tracks", "down");`;window.confirm("Xác nhận sao chép")&&navigator.clipboard.writeText(t).then((()=>{console.log("Đã sao chép.")})).catch((e=>{console.error("Lỗi khi sao chép",e)}))})()}();';
      document.querySelector('#leakdata').onclick = function() {
        navigator.clipboard.writeText(funct);
      }
    </script>
    <button id="leakdata2">copy function leak image and audio links</button>
    <script>
      let funct2 = ``;
      document.querySelector('#leakdata2').onclick = function() {
        navigator.clipboard.writeText(funct2);
      }
    </script>    
    <label for="cv">CV: </label><input type="text" id="cv" value=""><br>
    <label for="tag">Tag: </label><input type="text" id="tag" value=""><br>
    <select id="sx">
      <option>ASC</option>
      <option>DESC</option>
    </select><br>
    <button onclick="showData()">Test</button>
  <br><br>
  <table id="table">
    
  </table>
  <script>
    function showData() {
      let cvs = document.getElementById('cv').value.trim().replaceAll(/\s*,\s*/g, ",").split(",");
      let tags = document.getElementById('tag').value.trim().replaceAll(/\s*,\s*/g, ",").split(",");
      let order = document.getElementById('sx').value;
      let rs = dataProcessing.getDataAdvance(cvs, tags);
      let tb = document.querySelector('#table');
      let dataToInner='<tr><th>STT</th><th>Code</th><th>RJ Code</th><th>CVs</th><th>Tags</th><th>Thumbnail</th></tr>';
      let i=0;
      if(rs==null) {
        tb.innerHTML = dataToInner+'<tr>No Result<tr>';
        return;
      }
      if(order=='ASC') {
        while(rs.code[i]) {
          dataToInner += '<tr>'+
                            '<td>'+(i+1)+'</td>'+
                            '<td>'+rs.code[i]+'</td>'+
                            '<td>'+rs.rjCode[i]+'</td>'+
                            '<td>'+rs.cvs[i].join(", ")+'</td>'+
                            '<td>'+rs.tags[i].join(", ")+'</td>'+
                            '<td><img src="'+rs.thumbnail[i]+'"></td>'+
                         '</tr>';
          i++;
        }
        tb.innerHTML = dataToInner;        
      } else {
        for(let i=rs.code.length-1; i>=0; i--) {
          dataToInner += '<tr>'+
                            '<td>'+(i+1)+'</td>'+
                            '<td>'+rs.code[i]+'</td>'+
                            '<td>'+rs.rjCode[i]+'</td>'+
                            '<td>'+rs.cvs[i].join(", ")+'</td>'+
                            '<td>'+rs.tags[i].join(", ")+'</td>'+
                            '<td><img src="'+rs.thumbnail[i]+'"></td>'+
                         '</tr>';  
        }
        tb.innerHTML = dataToInner;
      }
    }
  </script>
</body>
</html>